import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


  export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Las Vegas, for 3 Daysfor Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a budget-friendly 3-day Las Vegas itinerary for a couple, along with hotel options and detailed day plans, all in JSON format.\n\n```json\n{\n  \"location\": \"Las Vegas\",\n  \"budget\": \"Cheap\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n       \"hotelImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/24/69/8c/6d/circus-circus-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1366,\n        \"longitude\": -115.1633\n      },\n      \"rating\": \"3.5\",\n      \"description\": \"A classic Vegas hotel with a circus theme, offering budget-friendly rooms and free attractions like the Adventuredome.\"\n    },\n     {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n        \"hotelImageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/25/1a/0c/63/excalibur-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0988,\n        \"longitude\": -115.1743\n      },\n      \"rating\": \"3.8\",\n      \"description\": \"A medieval-themed hotel with affordable rooms, a pool area, and some free shows.\"\n    },\n     {\n      \"hotelName\": \"OYO Hotel and Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $75 per night\",\n         \"hotelImageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/17/96/0b/9c/oyo-hotel-and-casino-las.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1009,\n        \"longitude\": -115.1687\n      },\n      \"rating\": \"3.2\",\n      \"description\": \"A budget-friendly option located off the Strip, offering simple rooms and a casino.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n        \"theme\":\"Exploring the South Strip\",\n       \"bestTimeToVisit\": \"Morning and Evening to avoid heat\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"A must-see photo opportunity! Iconic sign located at the south end of the Strip.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Welcome_to_Fabulous_Las_Vegas_sign.JPG/800px-Welcome_to_Fabulous_Las_Vegas_sign.JPG\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1727\n          },\n           \"ticketPricing\":\"Free\",\n             \"timeToTravel\": \"15 minutes (by taxi/bus) from most of the hotels\"\n        },\n         {\n          \"placeName\": \"Mandalay Bay Resort\",\n          \"placeDetails\": \"Visit the beach with some good photography locations\",\n          \"placeImageURL\": \"https://assets.atdw-online.com.au/images/7978a1279a7b8c62b5596107a00c20c4.jpeg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0939,\n            \"longitude\": -115.1758\n          },\n           \"ticketPricing\":\"Free (for general access)\",\n             \"timeToTravel\": \"15 minutes walking distance from the sign\"\n        },\n        {\n          \"placeName\": \"Excalibur Hotel\",\n          \"placeDetails\": \"Explore the medieval theme, and catch free shows.\",\n          \"placeImageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/25/1a/0c/63/excalibur-hotel-casino.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.0988,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": \"Free (for casino access and some shows)\",\n            \"timeToTravel\": \"5 minutes (walking distance)\"\n        },\n        {\n          \"placeName\": \"Luxor Hotel\",\n           \"placeDetails\": \"See the amazing architectural design of this Pyramid shaped hotel\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/b/b8/Luxor_Hotel_and_Casino_Las_Vegas_2011.jpg\",\n             \"geoCoordinates\": {\n            \"latitude\": 36.0956,\n            \"longitude\": -115.1743\n          },\n         \"ticketPricing\": \"Free (for lobby access)\",\n          \"timeToTravel\": \"5 minutes (walking distance)\"\n\n        },\n        {\n           \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n           \"placeDetails\": \"Explore the stunning botanical gardens with themed decorations.\",\n           \"placeImageURL\": \"https://a.cdn-hotels.com/gdcs/production80/d197/f9d4c963-7733-4793-be26-9d989555206a.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\": 36.1128,\n             \"longitude\": -115.1750\n           },\n           \"ticketPricing\": \"Free\",\n           \"timeToTravel\": \"20 minutes (by taxi/bus)\"\n          }\n      ]\n    },\n      \"day2\": {\n        \"theme\":\"Fremont Street Experience\",\n         \"bestTimeToVisit\": \"Evening for Light Shows\",\n        \"places\": [\n         {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a large video screen canopy, free live entertainment, and light shows.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/5/5f/Fremont_Street_Experience_Canopy_2019.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1400\n          },\n          \"ticketPricing\": \"Free\",\n            \"timeToTravel\": \"20 minutes (by taxi/bus) from the strip\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area made of shipping containers, plus a playground.\",\n         \"placeImageURL\": \"https://www.vegasexperience.com/wp-content/uploads/2021/02/container-park-fremont.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1679,\n             \"longitude\": -115.1387\n          },\n          \"ticketPricing\": \"Free (for general access)\",\n           \"timeToTravel\": \"5 minutes (walking distance)\"\n        },\n         {\n          \"placeName\": \"Mob Museum\",\n           \"placeDetails\": \"Explore the history of organized crime in America.\",\n           \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/7/77/Mob_Museum_entrance.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1694,\n              \"longitude\": -115.1433\n           },\n            \"ticketPricing\": \"$29.95 per person (Optional)\",\n              \"timeToTravel\":\"5 minutes (walking distance)\"\n        },\n           {\n          \"placeName\": \"Gold & Silver Pawn Shop\",\n           \"placeDetails\":\"Visit the pawn shop featured in the History Channel's 'Pawn Stars'.\",\n           \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Gold_%26_Silver_Pawn_Shop.jpg/800px-Gold_%26_Silver_Pawn_Shop.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1782,\n              \"longitude\": -115.1474\n           },\n           \"ticketPricing\": \"Free (for store visit)\",\n             \"timeToTravel\": \"10 minutes (taxi/bus) from Container Park\"\n        }\n      ]\n    },\n    \"day3\": {\n       \"theme\":\"Exploring the Strip\",\n       \"bestTimeToVisit\": \"Anytime\",\n      \"places\": [\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"An outdoor shopping, dining, and entertainment district.  Take a picture with High Roller Ferris wheel\",\n          \"placeImageURL\": \"https://www.caesars.com/linq/things-to-do/linq-promenade/-/media/linq-promenade/images/linq-promenade-hero-1440x600.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1166,\n             \"longitude\": -115.1694\n          },\n          \"ticketPricing\": \"Free (for promenade access)\",\n           \"timeToTravel\": \"10 minutes (by taxi/bus) from south strip \"\n        },\n         {\n          \"placeName\": \"Mirage Volcano\",\n           \"placeDetails\": \"Catch the free volcano eruption show at The Mirage.\",\n           \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/a/a3/Mirage_Volcano_Las_Vegas_2016.jpg\",\n            \"geoCoordinates\": {\n               \"latitude\": 36.1223,\n               \"longitude\": -115.1739\n           },\n            \"ticketPricing\": \"Free\",\n              \"timeToTravel\": \"10 minutes (walking distance)\"\n        },\n        {\n            \"placeName\":\"Venetian Hotel\",\n            \"placeDetails\": \"Visit the hotel with beautiful water canals and explore the hotel\",\n            \"placeImageURL\":\"https://upload.wikimedia.org/wikipedia/commons/8/89/Venetian_Hotel_Las_Vegas_2014.jpg\",\n              \"geoCoordinates\": {\n                 \"latitude\": 36.1217,\n                 \"longitude\": -115.1696\n            },\n            \"ticketPricing\":\"Free(for hotel and canal walk)\",\n             \"timeToTravel\": \"5 minutes (walking distance)\"\n\n        },\n         {\n          \"placeName\": \"Paris Las Vegas\",\n            \"placeDetails\": \"Take some pictures of Eiffel Tower and explore inside\",\n           \"placeImageURL\":\"https://upload.wikimedia.org/wikipedia/commons/9/9f/Paris_Las_Vegas_Eiffel_Tower_2012.JPG\",\n            \"geoCoordinates\": {\n                \"latitude\": 36.1121,\n               \"longitude\": -115.1714\n           },\n            \"ticketPricing\": \"Free (for outside views)\",\n             \"timeToTravel\": \"10 minutes (walking distance)\"\n        },\n\n         {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Take a ride on the High Roller for great views of the city (Optional - might need to be booked in advance)\",\n          \"placeImageURL\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/High_Roller_%28Las_Vegas%29_at_night.jpg/1280px-High_Roller_%28Las_Vegas%29_at_night.jpg\",\n            \"geoCoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1696\n          },\n           \"ticketPricing\": \"$30 - $50 per person\",\n             \"timeToTravel\": \"5 minutes (walking distance) from Paris Las Vegas\"\n        }\n\n      ]\n    }\n  }\n}\n```\n**Notes:**\n* **Prices:** Hotel prices are estimates and can fluctuate. Ticket pricing is also approximate and should be verified beforehand.\n* **Transportation:** The itinerary assumes you will use a combination of walking, public transport (RTC buses), and occasional taxis/rideshares to save money.\n* **Food:** The itinerary doesn't include specific food recommendations but try to explore affordable dining options like fast food, food courts, and happy hour deals to keep the budget low. Consider packing snacks and water.\n* **Flexibility:** This is just a suggestion, feel free to adjust it to your interests and pace.\n* **Free Activities:** Las Vegas has plenty of free attractions, so focus on those to keep costs down.\n* **Booking:**  Book your hotel in advance, especially if you are traveling during peak seasons or weekends.\n\nEnjoy your trip to Las Vegas!\n"},
        ],
      },
    ],
  });